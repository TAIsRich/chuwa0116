1.
2.
3.
4. what is JPA? and what is Hibernate?

A JPA (Java Persistence API) is a specification of Java which is used to access, manage, and persist data between Java object and relational database. It is considered as a standard approach for Object Relational Mapping.

A Hibernate is a Java framework which is used to store the Java objects in the relational database system. It is an open-source, lightweight, ORM (Object Relational Mapping) tool.

Hibernate is an implementation of JPA. So, it follows the common standards provided by the JPA.

5. What is Hiraki? what is the benefits of connection pool?

HikariCP is solid high-performance JDBC connection pool. A connection pool is a cache of database connections maintained so that the connections can be reused when future requests to the database are required

6. What is the @OneToMany, @ManyToOne, @ManyToMany? write some examples.

@OneToMany: the one side will be our point of reference. e.g. "A State has Cities".

@ManyToOne: the many side will keep reference of the one side. e.g. There will be a column state_id in the table cities.

@ManyToMany: members of each party can hold reference to arbitrary number of members of the other party e.g. doctors and patients

7. What is the cascade = CascadeType.ALL, orphanRemoval = true? and what are the other CascadeType and their features? In which situation we choose which one?

Propagates all operations from parent to target entity. when the relationship between parent and child entity broke, the child entity will become orphan and will be removed

CascadeType.ALL  Propagates all operations from parent to target entity. CascadeType.PERSIST – Propagates persist from parent to target entity. 
CascadeType.MERGE  Propagates merge from parent to target entity. CascadeType.REMOVE – Propagates remove from parent to target entity. CascadeType.REFRESH  Propagates refresh from parent to target entity. CascadeType.DETACH – Propagates detach from parent to target entity.

8. What is the fetch = FetchType.LAZY, fetch = FetchType.EAGER? what is the difference? In which situation you choose which one?

There are two ways in which data is loaded: eager and lazy. Eager fetch means that when a record is fetched from the database, all the associated records from related tables are also fetched. So if we fetch a tournament record, all the registrations for the tournament are also fetched.

Eager fetch is the default fetch type used by Hibernate but it is not always the most efficient. Lazy fetch on the other hand, fetches the records only when they are needed.

FetchType.LazyIf we don't need data from comment, JPA doesn't fetch it Only fetch data from post when we need data from comment, then JPA fecth comment data

FetchType.Eagerwhen we fetch post, JPA also fetch comment at the same time.

9. What is the rule of JPA naming convention? Shall we implement the method by ourselves? Could you list some examples?

Naming Conversion

Spring uses lower snake case by default, which means it uses only lower case letters and separates words with underscores By using quotes around our identifiers, we tell the database it should also match the case when comparing those identifiers with table and column names. e.g. select "first_name" from "person"; vs select "first_name" from "PERSON";

if we wnat to customize naming convension, we need to provide an implementation of PhysicalNamingStrategy and then register it so that Hibernate knows to use it. Using Spring, this is done by setting the spring.jpa.hibernate.naming.physical-strategy property in our application.properties: for example:

public class UpperCaseNamingStrategy extends SpringPhysicalNamingStrategy {
    @Override
    protected Identifier getIdentifier(String name, boolean quoted, JdbcEnvironment jdbcEnvironment) {
        return new Identifier(name.toUpperCase(), quoted);
    }
}
spring.jpa.hibernate.naming.physical-strategy=com.baeldung.namingstrategy.UpperCaseNamingStrategy (in application.properties)

10.Try to use JPA advanced methods in your class project. In the repository layer, you need to use the naming convention to use the method provided by JPA.

@Repository 
public interface EmployeeRepository extends JPARepository<  
                                                   Employee,Long>        
{
     List<Employee> findAll();
     Optional<Employee> findById(Long employeeId);
     List<Employee> findByFirstNameAndLastName(String firstNm, 
                                               String lastNm);
}


Part 2

3. What is JPQL?
JPQL is Java Persistence Query Language defined in JPA specification. It is used to create queries against entities to store in a relational database. JPQL is developed based on SQL syntax. But it won’t affect the database directly.


4. What is @NamedQuery and @NamedQueries?

@NameQueries annotation is used to define the multiple named queries. @NameQuery annotation is used to define the single named query.
@NamedQueries({ @NamedQuery(name="Country.findAll", query="SELECT c FROM Country c"), @NamedQuery(name="Country.findByName", query="SELECT c FROM Country c WHERE c.name = :name"), })

5. What is @Query? In which Interface we write the sql or JPQL?

A Query is similar in syntax to SQL, and it's generally used to perform CRUD operations. The @Query annotation takes precedence over named queries.
By default, the query definition uses JPQL. SQL also works.

6.What is HQL and Criteria Queries?

Hibernate Query Language (HQL) is an object-oriented query language, similar to SQL, but instead of operating on tables and columns, HQL works with persistent objects and their properties. The criteria query API lets us build nested, structured query expressions in Java, providing a compile-time syntax checking that is not possible with a query language like HQL or SQL.

HQL is to perform both select and non-select operations on the data, but Criteria is only for selecting the data
HQL is suitable for executing Static Queries, where as Criteria is suitable for executing Dynamic Queries

7.What is EnityManager?

The EntityManager is an API that manages the lifecycle of entity instances. An EntityManager object manages a set of entities that are defined by a persistence unit. Each EntityManager instance is associated with a persistence context.

8. What is SessionFactory and Session?

SessionFactory is a factory class for Session objects. It is available for the whole application while a Session is only available for particular transaction.

9. What is Transaction? how to manage your transaction?

A transaction is a logical unit of work that contains one or more SQL statements, simply represents a unit of work. A transaction is an atomic unit - if one step fails, the whole transaction fails (which is termed as atomicity).
Transaction management refers to the tasks of processing multiple transactions issued by various clients of a database server in such a way that the ACID contract can be fulfilled Transaction management is generally understood as requiring serializability-based concurrency control as well as recovery from failures. Concurrency control is the task of scheduling transactions such that their serializability can be guaranteed, while recovery has to restore a consistent database state after a system or media failure.

10. What is hibernate Caching?
Caching is a mechanism to enhance the performance of a system. It is a buffer memorythat lies between the application and the database. Cache memory stores recently used data items in order to reduce the number of database hits as much as possible.

11.What is the difference between first-level cache and second-level cache?

The first level is maintained at the Session level and accessible only to the Session, while the second level cache is maintained at the SessionFactory level and available to all Sessions. This means, you can use the first-level cache to store local data, i.e. the data which is needed by the Session, and you can use the second-level cache to store global data, i.e. something which can be shared across sessions.
